Index: pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n    <modelVersion>4.0.0</modelVersion>\r\n\r\n    <groupId>org.example</groupId>\r\n    <artifactId>ProjectGBTWUi</artifactId>\r\n    <version>1.0-SNAPSHOT</version>\r\n\r\n    <name>ProjectGBTWUi</name>\r\n    <!-- FIXME change it to the project's website -->\r\n    <url>http://www.example.com</url>\r\n\r\n    <properties>\r\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\r\n        <maven.compiler.source>11.0.10</maven.compiler.source>\r\n        <maven.compiler.target>11.0.10</maven.compiler.target>\r\n        <junit.version>5.7.2</junit.version>\r\n    </properties>\r\n\r\n    <dependencies>\r\n        <!-- https://mvnrepository.com/artifact/org.decimal4j/decimal4j -->\r\n \r\n\r\n\r\n        <!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java -->\r\n        <dependency>\r\n            <groupId>org.seleniumhq.selenium</groupId>\r\n            <artifactId>selenium-java</artifactId>\r\n            <version>3.141.59</version>\r\n        </dependency>\r\n        <!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager -->\r\n        <dependency>\r\n            <groupId>io.github.bonigarcia</groupId>\r\n            <artifactId>webdrivermanager</artifactId>\r\n            <version>4.4.3</version>\r\n        </dependency>\r\n        <!-- https://mvnrepository.com/artifact/com.perfma.wrapped/com.sun.tools -->\r\n        <dependency>\r\n            <groupId>com.perfma.wrapped</groupId>\r\n            <artifactId>com.sun.tools</artifactId>\r\n            <version>1.8.0_jdk8u275-b01_linux_x64</version>\r\n\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.junit.jupiter</groupId>\r\n            <artifactId>junit-jupiter</artifactId>\r\n            <version>${junit.version}</version>\r\n            <scope>test</scope>\r\n        </dependency>\r\n        <!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api -->\r\n        <dependency>\r\n            <groupId>org.junit.jupiter</groupId>\r\n            <artifactId>junit-jupiter-api</artifactId>\r\n            <version>${junit.version}</version>\r\n            <scope>test</scope>\r\n        </dependency>\r\n        <!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params -->\r\n        <dependency>\r\n            <groupId>org.junit.jupiter</groupId>\r\n            <artifactId>junit-jupiter-params</artifactId>\r\n            <version>5.7.2</version>\r\n            <scope>test</scope>\r\n        </dependency>\r\n        <!-- https://mvnrepository.com/artifact/org.assertj/assertj-core -->\r\n        <dependency>\r\n            <groupId>org.assertj</groupId>\r\n            <artifactId>assertj-core</artifactId>\r\n            <version>3.20.2</version>\r\n            <scope>test</scope>\r\n        </dependency>\r\n        <!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 -->\r\n        <dependency>\r\n            <groupId>org.slf4j</groupId>\r\n            <artifactId>slf4j-log4j12</artifactId>\r\n            <version>1.7.32</version>\r\n            <scope>test</scope>\r\n        </dependency>\r\n\r\n\r\n\r\n\r\n\r\n        <!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api -->\r\n        <dependency>\r\n            <groupId>org.slf4j</groupId>\r\n            <artifactId>slf4j-api</artifactId>\r\n            <version>1.7.32</version>\r\n        </dependency>\r\n        <!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-core -->\r\n        <dependency>\r\n            <groupId>ch.qos.logback</groupId>\r\n            <artifactId>logback-core</artifactId>\r\n            <version>1.2.5</version>\r\n        </dependency>\r\n\r\n\r\n\r\n    </dependencies>\r\n\r\n    <build>\r\n        <pluginManagement><!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) -->\r\n            <plugins>\r\n                <!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle -->\r\n                <plugin>\r\n                    <artifactId>maven-clean-plugin</artifactId>\r\n                    <version>3.1.0</version>\r\n                </plugin>\r\n                <!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging -->\r\n                <plugin>\r\n                    <artifactId>maven-resources-plugin</artifactId>\r\n                    <version>3.0.2</version>\r\n                </plugin>\r\n                <plugin>\r\n                    <artifactId>maven-compiler-plugin</artifactId>\r\n                    <version>3.8.0</version>\r\n                </plugin>\r\n                <plugin>\r\n                    <artifactId>maven-surefire-plugin</artifactId>\r\n                    <version>2.22.1</version>\r\n                </plugin>\r\n                <plugin>\r\n                    <artifactId>maven-jar-plugin</artifactId>\r\n                    <version>3.0.2</version>\r\n                </plugin>\r\n                <plugin>\r\n                    <artifactId>maven-install-plugin</artifactId>\r\n                    <version>2.5.2</version>\r\n                </plugin>\r\n                <plugin>\r\n                    <artifactId>maven-deploy-plugin</artifactId>\r\n                    <version>2.8.2</version>\r\n                </plugin>\r\n                <!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle -->\r\n                <plugin>\r\n                    <artifactId>maven-site-plugin</artifactId>\r\n                    <version>3.7.1</version>\r\n                </plugin>\r\n                <plugin>\r\n                    <artifactId>maven-project-info-reports-plugin</artifactId>\r\n                    <version>3.0.0</version>\r\n                </plugin>\r\n\r\n                <plugin>\r\n                    <groupId>org.apache.maven.plugins</groupId>\r\n                    <artifactId>maven-compiler-plugin</artifactId>\r\n                    <version>3.7.0</version>\r\n                    <configuration>\r\n                        <!-- specify current java version here: -->\r\n                        <source>11.0.10</source>\r\n                        <target>11.0.10</target> <!-- or edit these in your properties -->\r\n                    </configuration>\r\n                </plugin>\r\n\r\n\r\n\r\n            </plugins>\r\n        </pluginManagement>\r\n    </build>\r\n</project>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/pom.xml b/pom.xml
--- a/pom.xml	(revision 4f7d65c1c264d546846456d145e1b328d7d9f38b)
+++ b/pom.xml	(date 1630148476483)
@@ -21,7 +21,7 @@
 
     <dependencies>
         <!-- https://mvnrepository.com/artifact/org.decimal4j/decimal4j -->
- 
+
 
 
         <!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java -->
Index: src/test/java/Lesson5/ActionsExamplesTest.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/test/java/Lesson5/ActionsExamplesTest.java b/src/test/java/Lesson5/ActionsExamplesTest.java
new file mode 100644
--- /dev/null	(date 1630177493667)
+++ b/src/test/java/Lesson5/ActionsExamplesTest.java	(date 1630177493667)
@@ -0,0 +1,122 @@
+package Lesson5;
+import io.github.bonigarcia.wdm.WebDriverManager;
+import org.junit.jupiter.api.AfterEach;
+import org.junit.jupiter.api.Assertions;
+import org.junit.jupiter.api.BeforeAll;
+import org.junit.jupiter.api.BeforeEach;
+import org.junit.jupiter.api.Test;
+import org.openqa.selenium.By;
+import org.openqa.selenium.Cookie;
+import org.openqa.selenium.JavascriptExecutor;
+import org.openqa.selenium.WebDriver;
+import org.openqa.selenium.WebElement;
+import org.openqa.selenium.chrome.ChromeDriver;
+import org.openqa.selenium.interactions.Actions;
+import org.openqa.selenium.support.ui.WebDriverWait;
+
+import java.util.ArrayList;
+import java.util.List;
+
+import static org.hamcrest.CoreMatchers.is;
+import static org.hamcrest.MatcherAssert.assertThat;
+import static ru.geekbrains.lesson4.utils.ColorMatcher.hasColor;
+import static ru.geekbrains.Lesson4.utils.JsUtils.clickWithJs;
+import static ru.geekbrains.lesson5.CustomsWaiters.elementFirstInCollection;
+import static ru.yandex.qatools.htmlelements.matchers.WebElementMatchers.hasText;
+
+public class ActionsExamplesTest {
+    static WebDriver driver;
+    WebDriverWait webDriverWait;
+    private static final String BASE_URL = "https://crm.geekbrains.space/";
+
+    @BeforeAll
+    static void registerDriver() {
+        WebDriverManager.chromedriver().setup();
+    }
+
+    @BeforeEach
+    void setupBrowser() {
+        driver = new ChromeDriver();
+        webDriverWait = new WebDriverWait(driver, 5);
+        loginToCrm();
+    }
+
+    @Test
+    void checkInstrumentsPanelColumnsChanging() throws InterruptedException {
+        driver.get(BASE_URL + "dashboard");
+        driver.findElement(By.xpath("//a[@title='Настройки представления']")).click();
+
+        ////label[text()='Наименование']/ancestor::tr//span
+        Actions actions = new Actions(driver);
+
+        actions.clickAndHold(driver.findElement(By.xpath("//label[text()='Наименование']/ancestor::tr//span")))
+                .dragAndDrop(driver.findElement(By.xpath("//label[text()='Наименование']/ancestor::tr")),
+                        driver.findElement(By.xpath("//label[text()='Владелец']/ancestor::tr")))
+                .build()
+                .perform();
+
+        webDriverWait.until(elementFirstInCollection(By.xpath("//thead[@class='grid-header']//span[@class='grid-header-cell__label']"),
+                "ВЛАДЕЛЕЦ"));
+
+        webDriverWait.until(driver -> driver.findElements(
+                By.xpath("//thead[@class='grid-header']//span[@class='grid-header-cell__label']"))).get(0).getText()
+                .equals("ВЛАДЕЛЕЦ");
+
+        List<WebElement> headersList = driver.findElements(By.xpath("//thead[@class='grid-header']//span[@class='grid-header-cell__label']"));
+        Assertions.assertEquals("ВЛАДЕЛЕЦ", headersList.get(0).getText());
+
+        assertThat(headersList.get(0), hasText("ВЛАДЕЛЕЦ"));
+
+        Thread.sleep(10000);
+    }
+
+    @Test
+    void checkCellsColorChangingTest() {
+        driver.get(BASE_URL + "dashboard");
+        driver.findElement(By.xpath("//thead[@class='grid-header']//input")).click();
+        String color = driver.findElement(By.xpath("//tbody[@class='grid-body']/tr[1]")).getCssValue("background-color");
+        assertThat(driver.findElement(By.xpath("//tbody[@class='grid-body']/tr[1]")).getCssValue("background-color")
+                , is("rgba(254, 250, 237, 1)"));
+        assertThat(driver.findElement(By.xpath("//tbody[@class='grid-body']/tr[1]")), hasColor("rgba(254, 250, 237, 10)"));
+    }
+
+    @Test
+    void jsExecutorTest() throws InterruptedException {
+        driver.get("https://ya.ru");
+
+        clickWithJs(driver, driver.findElement(By.xpath("//button")));
+        JavascriptExecutor javascriptExecutor = (JavascriptExecutor) driver;
+        javascriptExecutor.executeScript("window.alert('test')");
+        Thread.sleep(5000);
+        driver.switchTo().alert().accept();
+        Thread.sleep(5000);
+
+        javascriptExecutor.executeScript("window.open()");
+        Thread.sleep(5000);
+        List<String> tabs = new ArrayList<>(driver.getWindowHandles());
+        driver.switchTo().window(tabs.get(0));
+        Thread.sleep(5000);
+        driver.close();
+    }
+
+    @Test
+    void loginToDiaryWithCookie() throws InterruptedException {
+        driver.get("https://diary.ru");
+        Cookie authCookie = new Cookie("_identity_", "83668234c30812b14c46bac1deda1a240770255504032650b424a75038c00b3aa%3A2%3A%7Bi%3A0%3Bs%3A10%3A%22_identity_%22%3Bi%3A1%3Bs%3A52%3A%22%5B3545507%2C%22E_QJqRaNdBrepyeVN7uNXi5Dz9tjGpfX%22%2C2592000%5D%22%3B%7D");
+        driver.manage().addCookie(authCookie);
+        driver.navigate().refresh();
+        Thread.sleep(1000);
+    }
+
+    @AfterEach
+    void tearDown() {
+        driver.quit();
+    }
+
+    public static void loginToCrm() {
+        driver.get("https://crm.geekbrains.space/user/login");
+        driver.findElement(By.id("prependedInput")).sendKeys("Applanatest1");
+        driver.findElement(By.id("prependedInput2")).sendKeys("Student2020!");
+        driver.findElement(By.xpath("//button")).click();
+    }
+}
